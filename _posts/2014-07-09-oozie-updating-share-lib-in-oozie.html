---
layout: post
title: 'Oozie: Updating Share lib in Oozie.'
date: '2014-07-09T08:26:00.001-07:00'
author: Akash Mishra
tags:
- sharelib
- hadoop
- oozie
modified_time: '2014-07-09T08:26:41.224-07:00'
blogger_id: tag:blogger.com,1999:blog-5454104814334713963.post-2753595165147202109
blogger_orig_url: http://sleepythread.blogspot.com/2014/07/oozie-updating-share-lib-in-oozie.html
---

<div dir="ltr" style="text-align: left;" trbidi="on"><br /><br />Problem:<br /><br />jar which are added to Oozie sharelib is not adding to the Oozie 'mapreduce.job.cache.files'<br /><pre style="-webkit-text-stroke-width: 0px; background-color: white; border: 0px; color: #222222; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; margin: 0px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; widows: auto; word-spacing: 0px;">&nbsp;</pre><pre style="-webkit-text-stroke-width: 0px; background-color: white; border: 0px; color: #222222; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; margin: 0px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; widows: auto; word-spacing: 0px;">&nbsp;</pre><pre style="-webkit-text-stroke-width: 0px; background-color: white; border: 0px; color: #222222; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; margin: 0px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; widows: auto; word-spacing: 0px;">Solution:</pre><pre style="-webkit-text-stroke-width: 0px; background-color: white; border: 0px; color: #222222; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; margin: 0px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; widows: auto; word-spacing: 0px;">&nbsp;</pre><pre style="-webkit-text-stroke-width: 0px; background-color: white; border: 0px; color: #222222; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; margin: 0px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; widows: auto; word-spacing: 0px;">Whenever you are adding any jar to Oozie sharelib directory using HDFS command,</pre><pre style="-webkit-text-stroke-width: 0px; background-color: white; border: 0px; color: #222222; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; margin: 0px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; widows: auto; word-spacing: 0px;">you need to inform the Oozie about the new jar which was added to the lib directory.</pre><pre style="-webkit-text-stroke-width: 0px; background-color: white; border: 0px; color: #222222; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; margin: 0px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; widows: auto; word-spacing: 0px;">&nbsp;</pre><pre style="-webkit-text-stroke-width: 0px; background-color: white; border: 0px; color: #222222; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; margin: 0px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; widows: auto; word-spacing: 0px;">e.g:</pre><pre style="-webkit-text-stroke-width: 0px; background-color: white; border: 0px; color: #222222; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; margin: 0px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; widows: auto; word-spacing: 0px;">&nbsp;</pre><pre style="-webkit-text-stroke-width: 0px; background-color: white; border: 0px; color: #222222; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; margin: 0px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; widows: auto; word-spacing: 0px;">lets assume your oozie share lib in HDFS is /user/oozie/share/lib/ and content are </pre><pre style="-webkit-text-stroke-width: 0px; background-color: white; border: 0px; color: #222222; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; margin: 0px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; widows: auto; word-spacing: 0px;">&nbsp;</pre><pre style="-webkit-text-stroke-width: 0px; background-color: white; border: 0px; color: #222222; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; margin: 0px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; widows: auto; word-spacing: 0px;">/user/oozie/share/lib/sqoop</pre><pre style="-webkit-text-stroke-width: 0px; background-color: white; border: 0px; color: #222222; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; margin: 0px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; widows: auto; word-spacing: 0px;">/user/oozie/share/lib/hive </pre><pre style="-webkit-text-stroke-width: 0px; background-color: white; border: 0px; color: #222222; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; margin: 0px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; widows: auto; word-spacing: 0px;">&nbsp;</pre><pre style="-webkit-text-stroke-width: 0px; background-color: white; border: 0px; color: #222222; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; margin: 0px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; widows: auto; word-spacing: 0px;">&nbsp;</pre><pre style="-webkit-text-stroke-width: 0px; background-color: white; border: 0px; color: #222222; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; margin: 0px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; widows: auto; word-spacing: 0px;">You add odbc.jar into your sqoop directory,</pre><pre style="-webkit-text-stroke-width: 0px; background-color: white; border: 0px; color: #222222; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; margin: 0px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; widows: auto; word-spacing: 0px;">&nbsp;</pre><pre style="-webkit-text-stroke-width: 0px; background-color: white; border: 0px; color: #222222; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; margin: 0px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; widows: auto; word-spacing: 0px;">&nbsp;</pre><pre style="-webkit-text-stroke-width: 0px; background-color: white; border: 0px; color: #222222; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; margin: 0px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; widows: auto; word-spacing: 0px;">&nbsp;Try to see the status of share lib using following command</pre><pre style="-webkit-text-stroke-width: 0px; background-color: white; border: 0px; color: #222222; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; margin: 0px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; widows: auto; word-spacing: 0px;">&nbsp;</pre><pre style="-webkit-text-stroke-width: 0px; background-color: white; border: 0px; color: #222222; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; margin: 0px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; widows: auto; word-spacing: 0px;"><span class="pln">oozie admin </span> -oozie http://&lt;HOST&gt;:&lt;PORT&gt;/oozie <span class="pun">-</span><span class="pln">shareliblist</span>&nbsp;</pre><pre style="-webkit-text-stroke-width: 0px; background-color: white; border: 0px; color: #222222; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; margin: 0px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; widows: auto; word-spacing: 0px;">&nbsp;</pre><pre style="-webkit-text-stroke-width: 0px; background-color: white; border: 0px; color: #222222; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; margin: 0px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; widows: auto; word-spacing: 0px;">You will not be able to find the odbc.jar in the given list. You will have to update</pre><pre style="-webkit-text-stroke-width: 0px; background-color: white; border: 0px; color: #222222; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; margin: 0px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; widows: auto; word-spacing: 0px;">the oozie sharelib.</pre><pre style="-webkit-text-stroke-width: 0px; background-color: white; border: 0px; color: #222222; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; margin: 0px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; widows: auto; word-spacing: 0px;">&nbsp;</pre><pre style="-webkit-text-stroke-width: 0px; background-color: white; border: 0px; color: #222222; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; margin: 0px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; widows: auto; word-spacing: 0px;">&nbsp;</pre><pre style="-webkit-text-stroke-width: 0px; background-color: white; border: 0px; color: #222222; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; margin: 0px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; widows: auto; word-spacing: 0px;">&nbsp;<span class="pln">oozie admin </span> -oozie http://&lt;HOST&gt;:&lt;PORT&gt;/oozie <span class="pun">-</span><span class="pln">sharelibupdate</span></pre><pre style="-webkit-text-stroke-width: 0px; background-color: white; border: 0px; color: #222222; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; margin: 0px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; widows: auto; word-spacing: 0px;"><span class="pln">&nbsp;</span></pre><pre style="-webkit-text-stroke-width: 0px; background-color: white; border: 0px; color: #222222; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; margin: 0px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; widows: auto; word-spacing: 0px;"><span class="pln">&nbsp;</span></pre><pre style="-webkit-text-stroke-width: 0px; background-color: white; border: 0px; color: #222222; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; margin: 0px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; widows: auto; word-spacing: 0px;"><span class="pln">This will update your share lib and next run will have new jar is your map-reduce job. </span></pre><pre style="-webkit-text-stroke-width: 0px; background-color: white; border: 0px; color: #222222; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; margin: 0px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; widows: auto; word-spacing: 0px;">&nbsp;</pre><pre style="-webkit-text-stroke-width: 0px; background-color: white; border: 0px; color: #222222; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; margin: 0px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; widows: auto; word-spacing: 0px;">&nbsp;</pre><pre style="-webkit-text-stroke-width: 0px; background-color: white; border: 0px; color: #222222; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; margin: 0px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; widows: auto; word-spacing: 0px;">&nbsp;</pre><pre style="-webkit-text-stroke-width: 0px; background-color: white; border: 0px; color: #222222; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; margin: 0px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; widows: auto; word-spacing: 0px;">&nbsp;</pre><pre style="-webkit-text-stroke-width: 0px; background-color: white; border: 0px; color: #222222; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; margin: 0px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; widows: auto; word-spacing: 0px;">&nbsp;</pre></div>